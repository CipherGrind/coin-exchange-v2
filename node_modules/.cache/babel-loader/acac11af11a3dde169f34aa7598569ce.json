{"ast":null,"code":"var _jsxFileName = \"C:\\\\WebDev\\\\IvanOnTech-Moralis\\\\coin-exchange\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useEffect, useState } from 'react';\nimport CoinList from './components/CoinList/CoinList';\nimport AccountBalance from './components/AccountBalance/AccountBalance';\nimport AppHeader from './components/AppHeader/AppHeader';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COIN_COUNT = 10;\n\nconst formatPrice = price => parseFloat(Number(price).toFixed(3));\n\nfunction App(props) {\n  _s();\n\n  const [balance, setBalance] = useState(100000);\n  const [showBalance, setShowBalance] = useState(true);\n  const [coinData, setCoinData] = useState([]);\n\n  const componentDidMount = async () => {\n    const response = await axios.get('https://api.coinpaprika.com/v1/coins');\n    const coinIds = response.data.slice(0, COIN_COUNT).map(coin => coin.id);\n    const tickerUrl = 'https://api.coinpaprika.com/v1/tickers/';\n    const promises = coinIds.map(id => axios.get(tickerUrl + id));\n    const coinData = await Promise.all(promises);\n    const coinPriceData = coinData.map(function (response) {\n      const coin = response.data;\n      return {\n        key: coin.id,\n        rank: coin.rank,\n        name: coin.name,\n        ticker: coin.symbol,\n        balance: 0,\n        price: formatPrice(coin.quotes.USD.price)\n      };\n    }); //retrieve the price\n\n    setCoinData(coinPriceData);\n  };\n\n  useEffect(function () {\n    if (coinData.length === 0) {\n      componentDidMount();\n    }\n  });\n\n  const handleChangeBalance = () => {\n    setShowBalance(oldValue => !oldValue);\n  };\n\n  const addToBalance = 5000;\n\n  const handleAddToBalance = () => {\n    let newBalance = balance + addToBalance;\n    setBalance(newBalance);\n  };\n\n  const handleRefresh = async valueChangeId => {\n    const tickerUrl = `https://api.coinpaprika.com/v1/tickers/${valueChangeId}`;\n    const response = await axios.get(tickerUrl);\n    const newPrice = formatPrice(response.data.quotes.USD.price);\n    const newCoinData = coinData.map(function (values) {\n      let newValues = { ...values\n      };\n\n      if (valueChangeId === values.key) {\n        newValues.price = newPrice;\n      }\n\n      return newValues;\n    });\n    setCoinData(newCoinData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(AppHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AccountBalance, {\n      amount: balance,\n      showBalance: showBalance,\n      handleChangeBalance: handleChangeBalance,\n      handleAddToBalance: handleAddToBalance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(CoinList, {\n      coinData: coinData,\n      handleRefresh: handleRefresh,\n      showBalance: showBalance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"OPRtliv2edWbZ3dDWPIN12r7bpk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","CoinList","AccountBalance","AppHeader","axios","COIN_COUNT","formatPrice","price","parseFloat","Number","toFixed","App","props","balance","setBalance","showBalance","setShowBalance","coinData","setCoinData","componentDidMount","response","get","coinIds","data","slice","map","coin","id","tickerUrl","promises","Promise","all","coinPriceData","key","rank","name","ticker","symbol","quotes","USD","length","handleChangeBalance","oldValue","addToBalance","handleAddToBalance","newBalance","handleRefresh","valueChangeId","newPrice","newCoinData","values","newValues"],"sources":["C:/WebDev/IvanOnTech-Moralis/coin-exchange/src/App.js"],"sourcesContent":["import './App.css';\nimport React, {useEffect, useState} from 'react';\nimport CoinList from './components/CoinList/CoinList';\nimport AccountBalance from'./components/AccountBalance/AccountBalance';\nimport AppHeader from './components/AppHeader/AppHeader';\nimport axios from 'axios';\n\n\nconst COIN_COUNT = 10;\nconst formatPrice = price => parseFloat(Number(price).toFixed(3));\n\n\nfunction App (props) {\n\n  const [balance, setBalance] = useState(100000);\n  const [showBalance, setShowBalance] = useState(true);\n  const [coinData, setCoinData] = useState([]);\n\n\n  const componentDidMount = async () => {\n    const response = await axios.get('https://api.coinpaprika.com/v1/coins');\n    const coinIds = response.data.slice(0, COIN_COUNT).map(coin => coin.id);\n    const tickerUrl = 'https://api.coinpaprika.com/v1/tickers/';\n    const promises = coinIds.map(id => axios.get(tickerUrl + id));\n    const coinData = await Promise.all(promises);\n    const coinPriceData = coinData.map(function(response) {\n      const coin = response.data;\n      return {\n        key: coin.id,\n        rank: coin.rank,\n        name: coin.name,\n        ticker: coin.symbol,\n        balance: 0,\n        price: formatPrice(coin.quotes.USD.price),\n      };\n    })\n      //retrieve the price\n      setCoinData(coinPriceData);\n  }\n\n  useEffect(function() {\n    if (coinData.length === 0 ) {\n      componentDidMount();\n    }\n  });\n\n\n  const handleChangeBalance = () => {\n    setShowBalance(oldValue => !oldValue);\n  }\n\n  const addToBalance = 5000;\n  const handleAddToBalance = () => {\n    let newBalance = balance + addToBalance;\n    setBalance(newBalance);\n  }\n\n  const handleRefresh = async (valueChangeId) => {\n    const tickerUrl = `https://api.coinpaprika.com/v1/tickers/${valueChangeId}`;\n    const response = await axios.get(tickerUrl);\n    const newPrice = formatPrice(response.data.quotes.USD.price);\n    const newCoinData = coinData.map( function( values ) {\n      let newValues = { ...values };\n      if ( valueChangeId === values.key ) {\n        newValues.price = newPrice;\n      }\n      return newValues;\n    });\n   \n      setCoinData(newCoinData);\n  }\n    return (\n      <div className=\"App\">\n        <AppHeader />\n          <AccountBalance \n            amount={balance} \n            showBalance={showBalance} \n            handleChangeBalance={handleChangeBalance} \n            handleAddToBalance={handleAddToBalance}/>\n          <CoinList \n            coinData={coinData} \n            handleRefresh={handleRefresh} \n            showBalance={showBalance} />\n      </div>\n    );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}